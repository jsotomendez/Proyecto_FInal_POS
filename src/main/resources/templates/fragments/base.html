<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="main-layout(title, content)">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">Sistema POS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link th:href="@{/css/styles.css}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">
        <i class="bi bi-shop-window me-2"></i> POS UNICÓRDOBA
    </a>
    <div class="navbar-nav">
        <div class="nav-item text-nowrap"><a class="nav-link px-3 text-white" href="#">Admin <i class="bi bi-person-circle"></i></a></div>
    </div>
</nav>

<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-white sidebar collapse">
            <div class="position-sticky pt-3 sidebar-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/web/dashboard' ? 'active' : ''}" href="/web/dashboard"><i class="bi bi-speedometer2 me-2"></i> Dashboard</a></li>
                    <h6 class="sidebar-heading px-3 mt-3 text-muted text-uppercase">Operaciones</h6>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/web/pos' ? 'active' : ''}" href="/web/pos"><i class="bi bi-cart4 me-2"></i> POS</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/compras/nueva') ? 'active' : ''}" href="/web/compras/nueva"><i class="bi bi-bag-plus me-2"></i> Abastecer</a></li>

                    <h6 class="sidebar-heading px-3 mt-3 text-muted text-uppercase">Gestión</h6>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/productos') ? 'active' : ''}" href="/web/productos"><i class="bi bi-tags me-2"></i> Productos</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/inventario') ? 'active' : ''}" href="/web/inventario"><i class="bi bi-boxes me-2"></i> Inventario</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/clientes') ? 'active' : ''}" href="/web/clientes"><i class="bi bi-people me-2"></i> Clientes</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/sedes') ? 'active' : ''}" href="/web/sedes"><i class="bi bi-building me-2"></i> Sedes</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/proveedores') ? 'active' : ''}" href="/web/proveedores"><i class="bi bi-truck me-2"></i> Proveedores</a></li>

                    <h6 class="sidebar-heading px-3 mt-3 text-muted text-uppercase">Historiales</h6>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/historial/ventas') ? 'active' : ''}" href="/web/historial/ventas"><i class="bi bi-receipt me-2"></i> Ventas</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/historial/compras') ? 'active' : ''}" href="/web/historial/compras"><i class="bi bi-bag-check me-2"></i> Compras</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/historial/pagos') ? 'active' : ''}" href="/web/historial/pagos"><i class="bi bi-cash-stack me-2"></i> Pagos</a></li>

                    <h6 class="sidebar-heading px-3 mt-3 text-muted text-uppercase">Seguridad</h6>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/usuarios') ? 'active' : ''}" href="/web/usuarios"><i class="bi bi-person-badge me-2"></i> Usuarios</a></li>
                    <li class="nav-item"><a class="nav-link" th:classappend="${#httpServletRequest.requestURI.contains('/web/promociones') ? 'active' : ''}" href="/web/promociones"><i class="bi bi-ticket-perforated me-2"></i> Promociones</a></li>
                </ul>
            </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">
            <div th:if="${mensaje}" class="alert alert-success alert-dismissible fade show" role="alert">
                <i class="bi bi-check-circle-fill"></i> <span th:text="${mensaje}"></span>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
            <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
                <i class="bi bi-exclamation-triangle-fill"></i> <span th:text="${error}"></span>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>

            <div th:replace="${content}"></div>
        </main>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>